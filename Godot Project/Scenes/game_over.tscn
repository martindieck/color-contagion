[gd_scene load_steps=11 format=3 uid="uid://bpxv8662sgy77"]

[ext_resource type="Script" path="res://Scenes/game_over.gd" id="1_oaex4"]
[ext_resource type="Texture2D" uid="uid://dk8yhhlllb06w" path="res://Sprites/King-Sheet.png" id="2_piw4j"]
[ext_resource type="Texture2D" uid="uid://dybmmw717wweh" path="res://Sprites/PlayerDead.png" id="3_xfivu"]
[ext_resource type="Texture2D" uid="uid://cynebr63hv8t3" path="res://Sprites/VictoryScene.png" id="4_bav6k"]
[ext_resource type="Texture2D" uid="uid://ddhx5a71sfwtq" path="res://Sprites/GameOver.png" id="5_6qr30"]
[ext_resource type="AudioStream" uid="uid://dq0y8brssv0xh" path="res://Sounds/Tutorial.mp3" id="6_guir0"]
[ext_resource type="PackedScene" uid="uid://dsadeqpy6fp" path="res://Scenes/transition_screen.tscn" id="7_y0blw"]

[sub_resource type="AtlasTexture" id="AtlasTexture_1ltow"]
atlas = ExtResource("2_piw4j")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_gk5tu"]
atlas = ExtResource("2_piw4j")
region = Rect2(16, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_qekxr"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_1ltow")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_gk5tu")
}],
"loop": true,
"name": &"default",
"speed": 2.0
}]

[node name="GameOver" type="Node2D"]
script = ExtResource("1_oaex4")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ColorRect" type="ColorRect" parent="CanvasLayer"]
offset_left = -1046.0
offset_top = -577.0
offset_right = 3087.0
offset_bottom = 1743.0
color = Color(0, 0, 0, 1)

[node name="PlayerKing" type="AnimatedSprite2D" parent="CanvasLayer"]
texture_filter = 1
position = Vector2(474, 292)
scale = Vector2(23, 23)
sprite_frames = SubResource("SpriteFrames_qekxr")
autoplay = "default"
frame_progress = 0.840756

[node name="DeadKing" type="Sprite2D" parent="CanvasLayer"]
texture_filter = 1
position = Vector2(468, 605)
scale = Vector2(15, 15)
texture = ExtResource("3_xfivu")

[node name="Square" type="Sprite2D" parent="CanvasLayer"]
texture_filter = 1
position = Vector2(1364, 599)
scale = Vector2(20, 20)
texture = ExtResource("4_bav6k")

[node name="Congrats" type="Sprite2D" parent="CanvasLayer"]
texture_filter = 1
position = Vector2(1362, 125)
scale = Vector2(6, 6)
texture = ExtResource("5_6qr30")

[node name="ThankYou" type="Label" parent="CanvasLayer"]
offset_left = 848.0
offset_top = 796.0
offset_right = 1882.0
offset_bottom = 941.0
theme_override_font_sizes/font_size = 60
text = "Thank you
for playing!"
horizontal_alignment = 1

[node name="Buttons" type="MarginContainer" parent="CanvasLayer"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 271.0
offset_top = -296.0
offset_right = 681.0
offset_bottom = -101.0
grow_vertical = 0
theme_override_constants/margin_left = 5
theme_override_constants/margin_top = 5
theme_override_constants/margin_right = 5
theme_override_constants/margin_bottom = 5

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Buttons"]
layout_mode = 2
theme_override_constants/separation = 25

[node name="PlayAgain" type="Button" parent="CanvasLayer/Buttons/VBoxContainer"]
custom_minimum_size = Vector2(400, 80)
layout_mode = 2
theme_override_font_sizes/font_size = 60
text = "Try Again"

[node name="MainMenu" type="Button" parent="CanvasLayer/Buttons/VBoxContainer"]
custom_minimum_size = Vector2(400, 80)
layout_mode = 2
theme_override_font_sizes/font_size = 60
text = "Main Menu"

[node name="Stats" type="MarginContainer" parent="CanvasLayer"]
offset_left = 1053.0
offset_top = 317.0
offset_right = 1517.0
offset_bottom = 361.0

[node name="VBoxContainer" type="VBoxContainer" parent="CanvasLayer/Stats"]
layout_mode = 2
theme_override_constants/separation = 30

[node name="TilesText" type="Label" parent="CanvasLayer/Stats/VBoxContainer"]
custom_minimum_size = Vector2(630, 0)
layout_mode = 2
theme_override_colors/font_color = Color(0.8, 0, 0, 1)
theme_override_font_sizes/font_size = 50
text = "Tiles Converted:"
horizontal_alignment = 1

[node name="Tiles" type="Label" parent="CanvasLayer/Stats/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/font_size = 50
text = "1"
horizontal_alignment = 1

[node name="EnemiesText" type="Label" parent="CanvasLayer/Stats/VBoxContainer"]
custom_minimum_size = Vector2(630, 0)
layout_mode = 2
theme_override_colors/font_color = Color(0.4, 0, 0.8, 1)
theme_override_font_sizes/font_size = 50
text = "Enemies Killed:"
horizontal_alignment = 1

[node name="Enemies" type="Label" parent="CanvasLayer/Stats/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/font_size = 50
text = "1"
horizontal_alignment = 1

[node name="MissesText" type="Label" parent="CanvasLayer/Stats/VBoxContainer"]
custom_minimum_size = Vector2(630, 0)
layout_mode = 2
theme_override_colors/font_color = Color(0.4, 0.8, 0, 1)
theme_override_font_sizes/font_size = 50
text = "Near Misses:"
horizontal_alignment = 1

[node name="Misses" type="Label" parent="CanvasLayer/Stats/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/font_size = 50
text = "1"
horizontal_alignment = 1

[node name="Music" type="AudioStreamPlayer" parent="."]
stream = ExtResource("6_guir0")
autoplay = true

[node name="TransitionScreen" parent="." instance=ExtResource("7_y0blw")]

[connection signal="pressed" from="CanvasLayer/Buttons/VBoxContainer/PlayAgain" to="." method="_on_play_again_pressed"]
[connection signal="pressed" from="CanvasLayer/Buttons/VBoxContainer/MainMenu" to="." method="_on_main_menu_pressed"]
[connection signal="transitioned" from="TransitionScreen" to="." method="_on_transition_screen_transitioned"]
